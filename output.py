import numpy as np
import matplotlib.pyplot as plt

full_result = {'0.1_1': [[1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], '0.1_2': [[1.0, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058], [2.823529411764706, 2.2142857142857144, 2.357142857142857, 2.357142857142857, 2.357142857142857, 2.357142857142857, 2.357142857142857], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], '0.1_5': [[1.0, 0.8235294117647058, 0.8235294117647058, 0.7058823529411765, 0.7058823529411765, 0.5294117647058824, 0.5294117647058824], [2.823529411764706, 2.2142857142857144, 2.2142857142857144, 2.0833333333333335, 2.25, 2.111111111111111, 2.111111111111111], [3.4000000000000004, 3.4000000000000004, 3.4000000000000004, 2.5999999999999996, 2.5999999999999996, 0.2, 0.2]], '0.1_10': [[1.0, 0.8235294117647058, 0.8235294117647058, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765, 0.47058823529411764], [2.823529411764706, 2.2142857142857144, 2.2142857142857144, 2.0833333333333335, 2.0833333333333335, 2.6666666666666665, 2.0], [11.028427124746191, 9.279898987322333, 9.279898987322333, 7.879898987322333, 7.879898987322333, 7.579898987322333, 4.679898987322333]], '0.5_1': [[1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], '0.5_2': [[1.0, 1.0, 1.0, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.357142857142857, 2.357142857142857, 2.357142857142857, 2.357142857142857], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], '0.5_5': [[1.0, 1.0, 0.8235294117647058, 0.7647058823529411, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765], [2.823529411764706, 2.823529411764706, 2.2142857142857144, 2.3076923076923075, 2.5833333333333335, 2.75, 2.75], [3.4, 3.4, 3.4, 2.8, 1.4, 0.8, 0.8]], '0.5_10': [[1.0, 1.0, 1.0, 0.8235294117647058, 0.7647058823529411, 0.6470588235294118, 0.6470588235294118], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.2142857142857144, 2.3076923076923075, 2.3636363636363638, 2.5454545454545454], [11.028427124746191, 11.028427124746191, 11.028427124746191, 9.279898987322333, 8.479898987322333, 7.079898987322333, 6.862741699796953]], '0.9_1': [[1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706, 2.823529411764706], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], '0.9_2': [[1.0, 1.0, 1.0, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058, 0.8235294117647058], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.357142857142857, 2.357142857142857, 2.357142857142857, 2.357142857142857], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]], '0.9_5': [[1.0, 1.0, 1.0, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765, 0.7058823529411765], [2.823529411764706, 2.823529411764706, 2.9411764705882355, 2.75, 2.75, 3.3333333333333335, 3.3333333333333335], [3.4000000000000004, 3.4000000000000004, 3.4000000000000004, 0.8, 0.8, 0.6, 0.6]], '0.9_10': [[1.0, 1.0, 1.0, 0.7647058823529411, 0.6470588235294118, 0.6470588235294118, 0.6470588235294118], [2.823529411764706, 2.823529411764706, 2.823529411764706, 2.6153846153846154, 2.727272727272727, 2.727272727272727, 2.727272727272727], [11.028427124746191, 11.028427124746191, 11.028427124746191, 7.962741699796952, 6.645584412271571, 6.645584412271571, 6.645584412271571]]}

fig, axs = plt.subplots(3, 4, sharex=True)
fig.suptitle('Change in % success, # Actions and Avg. KNN dist', fontsize=18)
seq_gamma = [0.1, 0.5, 0.9]
seq_closest_points = [1, 2, 5, 10]
# for k, benchmark in enumerate(all_benchmarks):
for i, gamma in enumerate(seq_gamma):
    for j, closest_points in enumerate(seq_closest_points):
        # i, j = k // 6, k % 6
        # l1 = axs[i, j].plot([10, 5, 1, 0.5, 0.1, 0.05, 0.01], rapt_avg_bitwidth[benchmark], 'o--', color='orange')
        # l2 = axs[i, j].plot([1, 2, 3, 4, 5], adapt_avg_bitwidth[benchmark], 'o--')
        # axs[i, j].set_xlim([0, 10])
        # axs[i, j].set_ylim([0, 12])
        # print(i, j, "hello")
        l1 = axs[i, j].plot([0.01, 0.05, 0.1, 0.5, 1, 5, 10], full_result[f'{gamma}_{closest_points}'][0], color="red")
        l2 = axs[i, j].plot([0.01, 0.05, 0.1, 0.5, 1, 5, 10], full_result[f'{gamma}_{closest_points}'][1], color="black")
        l3 = axs[i, j].plot([0.01, 0.05, 0.1, 0.5, 1, 5, 10], full_result[f'{gamma}_{closest_points}'][2], color="orange")

        # axs[i, j].legend(('RAPT', 'ADAPT'), loc='lower right')
        axs[i, j].set()
        axs[i, j].set_title(f'Gamma={gamma}, K={closest_points}', fontsize=12)
        # axs[i, j].set(xlabel='Knn distance lambda', ylabel='3 quantities')
# import ipdb; ipdb.set_trace()
l1 = l1[0]
l2 = l2[0]
l3 = l3[0]
# handles, labels = axs[i, j].get_legend_handles_labels()
fig.legend([l1, l2, l3], labels=["% success", "# Actions", "Knn dist."], loc='upper right')
# plt.grid(False)
# plt.xlabel("common X")
# plt.ylabel("common Y")
plt.show()



        
plt.legend(loc='lower left')
# Add title and x, y labels
plt.title("", fontsize=16, fontweight='bold')
plt.suptitle("Random Walk Suptitle", fontsize=10)
plt.xlabel("Number of Steps")
plt.ylabel("Accumulative Sum")
plt.savefig("sweep_knn_lambda.png")

